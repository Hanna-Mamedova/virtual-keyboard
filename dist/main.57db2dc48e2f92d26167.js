(()=>{"use strict";function e(e,n){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw s}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var n={elements:{main:null,keysContainer:null,keys:[]},eventHandlers:{oninput:null},properties:{value:"",capsLock:!1},init:function(){this.elements.main=document.createElement("div"),this.elements.keysContainer=document.createElement("div"),this.elements.main.classList.add("keyboard"),this.elements.keysContainer.classList.add("keyboard__keys"),this.elements.keysContainer.append(this.createKeys()),this.elements.keys=this.elements.keysContainer.querySelectorAll(".keyboard__key"),this.elements.main.append(this.elements.keysContainer),document.body.append(this.elements.main),this.open("",(function(e){document.querySelector("textarea").value=e}))},createKeys:function(){var e=this,t=document.createDocumentFragment();return["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","DEL","Caps Lock","a","s","d","f","g","h","j","k","l",";","'","ENTER","ShiftLeft","z","x","c","v","b","n","m",",",".","/","up","ShiftRight","Ctrl","Win","Alt","space","Alt","left","down","right","Ctrl"].forEach((function(n){var a=document.createElement("button"),r=-1!==["Backspace","DEL","ENTER","ShiftRight","&#9658;"].indexOf(n);switch(a.setAttribute("type","button"),a.classList.add("keyboard__key"),n){case"Backspace":a.classList.add("keyboard__key--special-wide"),a.innerHTML="Backspace",a.addEventListener("click",(function(){e.properties.value=e.properties.value.substring(0,e.properties.value.length-1),e.triggerEvent("oninput")}));break;case"Tab":a.classList.add("keyboard__key--special"),a.innerHTML="Tab",a.addEventListener("click",(function(){a.properties.value+="    ",e.triggerEvent("oninput")}));break;case"DEL":a.classList.add("keyboard__key--special"),a.innerHTML="DEL",a.addEventListener("click",(function(){e.triggerEvent("oninput")}));break;case"Caps Lock":a.classList.add("keyboard__key--special-wide"),a.innerHTML="Caps Lock",a.addEventListener("click",(function(){e.toggleCapsLock(),a.classList.toggle("keyboard__key--active",e.properties.capsLock)}));break;case"ENTER":a.classList.add("keyboard__key--special-wide"),a.innerHTML="ENTER",a.addEventListener("click",(function(){e.properties.value+="\n",e.triggerEvent("oninput")}));break;case"ShiftRight":case"ShiftLeft":a.classList.add("keyboard__key--special-wide"),a.innerHTML="Shift",a.addEventListener("click",(function(){}));break;case"space":a.classList.add("keyboard__key--space"),a.addEventListener("click",(function(){e.properties.value+=" ",e.triggerEvent("oninput")}));break;case"up":a.innerHTML="&#9650;",a.classList.add("keyboard__key--special"),a.addEventListener("click",(function(){e.triggerEvent("oninput")}));break;case"down":a.innerHTML="&#9660;",a.classList.add("keyboard__key--special"),a.addEventListener("click",(function(){e.triggerEvent("oninput")}));break;case"left":a.innerHTML="&#9668;",a.classList.add("keyboard__key--special"),a.addEventListener("click",(function(){e.triggerEvent("oninput")}));break;case"right":a.innerHTML="&#9658;",a.classList.add("keyboard__key--special"),a.addEventListener("click",(function(){e.triggerEvent("oninput")}));break;case"Ctrl":case"Win":case"Alt":a.textContent=n.toLowerCase(),a.classList.add("keyboard__key--special"),a.addEventListener("click",(function(){e.triggerEvent("oninput")}));break;default:a.textContent=n.toLowerCase(),a.classList.add("changeCase"),a.addEventListener("click",(function(){e.properties.value+=e.properties.capsLock?n.toUpperCase():n.toLowerCase(),e.triggerEvent("oninput")}))}t.append(a),r&&t.append(document.createElement("br"))})),t},triggerEvent:function(e){"function"==typeof this.eventHandlers[e]&&this.eventHandlers[e](this.properties.value)},toggleCapsLock:function(){this.properties.capsLock=!this.properties.capsLock;var t,n=e(this.elements.keys);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.classList.contains("changeCase")&&(a.textContent=this.properties.capsLock?a.textContent.toUpperCase():a.textContent.toLowerCase())}}catch(e){n.e(e)}finally{n.f()}},open:function(e,t){this.properties.value=e||"",this.eventHandlers.oninput=t}};function a(e,t,n){(e=document.createElement(t)).innerHTML=n,document.body.append(e)}window.onload=function(){a("TITLE","h1","VIRTUAL KEYBOARD"),function(){var e=document.createElement("div");e.classList.add("textarea__container");var t=document.createElement("textarea");t.name="textarea",t.className="textarea",t.cols=50,t.rows=10,e.append(t),document.body.append(e)}(),n.init(),a("SUBTITLE","h3","Keyboard created on Windows"),a("LANGUAGE","h3","For language switch: shift + alt"),a("LANGUAGE_NOW","h3","Language now:")}})();